<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: RoomBridgeStore</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: RoomBridgeStore</h1>

    




<section>

<header>
    
        <h2>RoomBridgeStore</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="RoomBridgeStore"><span class="type-signature"></span>new RoomBridgeStore<span class="signature">(db, opts)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Construct a store suitable for room bridging information.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>db</code></td>
            

            <td class="type">
            
                
<span class="param-type">Datastore</span>


            
            </td>

            

            

            <td class="description last">The connected NEDB database instance</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Options for this store.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line46">line 46</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="getLinkedMatrixRooms"><span class="type-signature"></span>getLinkedMatrixRooms<span class="signature">(remoteId, dataQuery<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;<a href="MatrixRoom.html">MatrixRoom</a>>, Error>}</span></h4>

    



<div class="description">
    Get Matrix rooms linked to the given remote ID.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>remoteId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The remote room ID</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dataQuery</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Additional constraints to apply to the set of
returned rooms.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line320">line 320</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    A list of matrix rooms.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;<a href="MatrixRoom.html">MatrixRoom</a>>, Error></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getLinkedRemoteRooms"><span class="type-signature"></span>getLinkedRemoteRooms<span class="signature">(matrixId, dataQuery<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;<a href="RemoteRoom.html">RemoteRoom</a>>, Error>}</span></h4>

    



<div class="description">
    Get remote rooms linked to the given matrix ID.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>matrixId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The matrix room ID</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dataQuery</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Additional constraints to apply to the set of
returned rooms.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line342">line 342</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    A list of remote rooms.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;<a href="RemoteRoom.html">RemoteRoom</a>>, Error></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getLinksByData"><span class="type-signature"></span>getLinksByData<span class="signature">(dataQuery)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Retrieve a list of links based on some information about the links themselves.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataQuery</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The keys and matching values the links share.
This should use dot notation for nested types. For example:
<code> { "topLevel.midLevel.leaf": 42, "otherTopLevel": "foo" } </code></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line240">line 240</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

    <div class="param-desc">
    
        If dataQuery isn't an object.
    
    </div>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    {Promise<{RoomBridgeStore~Link[], Error>} Resolves to a possibly
empty list of <a href="RoomBridgeStore.html#~Link">RoomBridgeStore~Link</a> objects. Rejects with an error if
there was a problem querying the store.
</div>



    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>store.linkRoomIds("!foo:bar", "_foo_bar", {
  custom: {
    stuff: "goes here"
  },
  or: "here"
});
store.getLinksByData({
  "custom.stuff": "goes here"
});</code></pre>



        
            

    

    <h4 class="name" id="getMatrixLinks"><span class="type-signature"></span>getMatrixLinks<span class="signature">(remoteId)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;<a href="RoomBridgeStore.html#~Link">RoomBridgeStore~Link</a>>, Error>}</span></h4>

    



<div class="description">
    Retrieve a list of matrix room IDs linked to this remote ID.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>remoteId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The remote ID</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line282">line 282</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    A list of room IDs.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;<a href="RoomBridgeStore.html#~Link">RoomBridgeStore~Link</a>>, Error></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getMatrixRoom"><span class="type-signature"></span>getMatrixRoom<span class="signature">(roomIdOrDataQuery)</span><span class="type-signature"> &rarr; {Promise.&lt;?<a href="MatrixRoom.html">MatrixRoom</a>, Error>}</span></h4>

    



<div class="description">
    Get a matrix room by its' room ID.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>roomIdOrDataQuery</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The room id or a data query object.
If the data query returns multiple entries, only 1 will be returned. Data queries
for keys set via <code>MatrixRoom.set(key, val)</code> MUST be prefixed with
'extras.'</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line85">line 85</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>RoomBridgeStore.getMatrixRooms</li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Resolves to the room or null if it
does not exist. Rejects with an error if there was a problem querying the store.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;?<a href="MatrixRoom.html">MatrixRoom</a>, Error></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getMatrixRooms"><span class="type-signature"></span>getMatrixRooms<span class="signature">(dataQuery)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;<a href="MatrixRoom.html">MatrixRoom</a>>, Error>}</span></h4>

    



<div class="description">
    Get a list of matrix rooms by a data query.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataQuery</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">A data query object. Queries for keys set via
<code>MatrixRoom.set(key, val)</code> MUST be prefixed with 'extras.'</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line111">line 111</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;<a href="MatrixRoom.html">MatrixRoom</a>>, Error></span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>store.getMatrixRooms({
  name: "A room name",
  "extras.some_new_key": "some new val"
});</code></pre>



        
            

    

    <h4 class="name" id="getRemoteLinks"><span class="type-signature"></span>getRemoteLinks<span class="signature">(matrixId)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;<a href="RoomBridgeStore.html#~Link">RoomBridgeStore~Link</a>>, Error>}</span></h4>

    



<div class="description">
    Retrieve a list of remote IDs linked to this matrix room ID.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>matrixId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The matrix room ID</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line300">line 300</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    A list of remote IDs.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;<a href="RoomBridgeStore.html#~Link">RoomBridgeStore~Link</a>>, Error></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getRemoteRoom"><span class="type-signature"></span>getRemoteRoom<span class="signature">(roomIdOrDataQuery)</span><span class="type-signature"> &rarr; {Promise.&lt;?<a href="RemoteRoom.html">RemoteRoom</a>, Error>}</span></h4>

    



<div class="description">
    Get a remote room by its' room ID.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>roomIdOrDataQuery</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The room id or a data query object.
If the data query returns multiple entries, only 1 will be returned.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line96">line 96</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Resolves to the room or null if it
does not exist. Rejects with an error if there was a problem querying the store.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;?<a href="RemoteRoom.html">RemoteRoom</a>, Error></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getRemoteRooms"><span class="type-signature"></span>getRemoteRooms<span class="signature">(dataQuery)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;<a href="RemoteRoom.html">RemoteRoom</a>>, Error>}</span></h4>

    



<div class="description">
    Get a list of remote rooms by a data query.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataQuery</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">A data query object.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line120">line 120</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;<a href="RemoteRoom.html">RemoteRoom</a>>, Error></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="linkRooms"><span class="type-signature"></span>linkRooms<span class="signature">(matrixRoom, remoteRoom, data<span class="signature-attributes">opt</span>, linkKey<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    Create a link between a matrix room and remote room. This will insert the
given rooms if they do not exist before creating the mapping. This is done to
ensure foreign key constraints are satisfied (so you cannot have a mapping to
a room ID which does not exist).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>matrixRoom</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="MatrixRoom.html">MatrixRoom</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The matrix room</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>remoteRoom</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="RemoteRoom.html">RemoteRoom</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The remote room</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Information about this mapping.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>linkKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">An additional unique key value.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line139">line 139</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="setMatrixRoom"><span class="type-signature"></span>setMatrixRoom<span class="signature">(matrixRoom, updateQuery)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    Store a Matrix room. If it already exists, it will be updated. Equivalence
is determined by the room ID.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>matrixRoom</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="MatrixRoom.html">MatrixRoom</a></span>


            
            </td>

            

            

            <td class="description last">The matrix room</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>updateQuery</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Update the room based on the data values given in this
object rather than the matrix room ID.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line59">line 59</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="setRemoteRoom"><span class="type-signature"></span>setRemoteRoom<span class="signature">(remoteRoom, updateQuery)</span><span class="type-signature"> &rarr; {Promise}</span></h4>

    



<div class="description">
    Store a Remote room. If it already exists, it will be updated. Equivalence
is determined by the room ID.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>remoteRoom</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="RemoteRoom.html">RemoteRoom</a></span>


            
            </td>

            

            

            <td class="description last">The remote room</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>updateQuery</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Update the room based on the data values given in this
object rather than the remote ID.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line71">line 71</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="unlinkByData"><span class="type-signature"></span>unlinkByData<span class="signature">(dataQuery)</span><span class="type-signature"> &rarr; {Promise.&lt;Number, Error>}</span></h4>

    



<div class="description">
    Delete links which have the matching data.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataQuery</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The data query to match.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line265">line 265</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Resolves to the number of entries removed.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Number, Error></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="unlinkByKey"><span class="type-signature"></span>unlinkByKey<span class="signature">(linkKey)</span><span class="type-signature"> &rarr; {Promise.&lt;Number, Error>}</span></h4>

    



<div class="description">
    Delete a link between a matrix room ID and a remote room ID based on a link
key.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>linkKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The link key to delete links by.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line200">line 200</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Resolves to the number of entries removed.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Number, Error></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="unlinkRoomIds"><span class="type-signature"></span>unlinkRoomIds<span class="signature">(matrixRoomId, remoteRoomId)</span><span class="type-signature"> &rarr; {Promise.&lt;Number, Error>}</span></h4>

    



<div class="description">
    Delete a link between a matrix room ID and a remote room ID. This creates a
link key based on the provided IDs.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>matrixRoomId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The matrix room ID</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>remoteRoomId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The remote room ID</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line190">line 190</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Resolves to the number of entries removed.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Number, Error></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="unlinkRooms"><span class="type-signature"></span>unlinkRooms<span class="signature">(matrixRoom, remoteRoom)</span><span class="type-signature"> &rarr; {Promise.&lt;Number, Error>}</span></h4>

    



<div class="description">
    Delete a link between a matrix room and a remote room.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>matrixRoom</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="MatrixUser.html">MatrixUser</a></span>


            
            </td>

            

            

            <td class="description last">The matrix user</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>remoteRoom</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="RemoteUser.html">RemoteUser</a></span>


            
            </td>

            

            

            <td class="description last">The remote user</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line179">line 179</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Resolves to the number of entries removed.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Number, Error></span>


    </dd>
</dl>

    



        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<h4 class="name" id="~Link">Link</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>matrix</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The matrix room ID</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>remote</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The remote room ID</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>link_key</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The unique key for this link.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Information about this mapping, which may be an empty
object.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_room-bridge-store.js.html">components/room-bridge-store.js</a>, <a href="components_room-bridge-store.js.html#line403">line 403</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AppServiceBot.html">AppServiceBot</a></li><li><a href="Bridge.html">Bridge</a></li><li><a href="BridgeStore.html">BridgeStore</a></li><li><a href="Cli.html">Cli</a></li><li><a href="ClientFactory.html">ClientFactory</a></li><li><a href="ConfigValidator.html">ConfigValidator</a></li><li><a href="Intent.html">Intent</a></li><li><a href="MatrixRoom.html">MatrixRoom</a></li><li><a href="MatrixUser.html">MatrixUser</a></li><li><a href="RemoteRoom.html">RemoteRoom</a></li><li><a href="RemoteUser.html">RemoteUser</a></li><li><a href="Request.html">Request</a></li><li><a href="RequestFactory.html">RequestFactory</a></li><li><a href="RoomBridgeStore.html">RoomBridgeStore</a></li><li><a href="UserBridgeStore.html">UserBridgeStore</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Tue Jun 07 2016 11:51:58 GMT+0100 (BST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>