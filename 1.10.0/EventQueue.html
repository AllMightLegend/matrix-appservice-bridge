<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: EventQueue</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: EventQueue</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>EventQueue<span class="signature">(type, consumeFn)</span><span class="type-signature"></span></h2>
        
            <div class="class-description">Handles the processing order of incoming Matrix events.

Events can be pushed to the queue and will be processed when their
corresponding data is ready and they are at the head of line.
Different types of queues can be chosen for the processing order of events.

Abstract Base Class. Use the factory method `create` to create new instances.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="EventQueue"><span class="type-signature"></span>new EventQueue<span class="signature">(type, consumeFn)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Private constructor.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">"none"</span>
|

<span class="param-type">"single"</span>
|

<span class="param-type">"per_room"</span>


            
            </td>

            

            

            <td class="description last">The type of event queue to create.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>consumeFn</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#consumeCallback">consumeCallback</a></span>


            
            </td>

            

            

            <td class="description last">Function which is called when an event
    is consumed.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_event-queue.js.html">components/event-queue.js</a>, <a href="components_event-queue.js.html#line21">line 21</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id=".create"><span class="type-signature">(static) </span>create<span class="signature">(consumeFn)</span><span class="type-signature"> &rarr; {<a href="EventQueue.html">EventQueue</a>}</span></h4>
    

    



<div class="description">
    Factory for EventQueues.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>opts.type</code></td>
            

            <td class="type">
            
                
<span class="param-type">"none"</span>
|

<span class="param-type">"single"</span>
|

<span class="param-type">"per_room"</span>


            
            </td>

            

            

            <td class="description last">Type of the queue to create.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>consumeFn</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#consumeCallback">consumeCallback</a></span>


            
            </td>

            

            

            <td class="description last">Function which is called when an event
    is consumed.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_event-queue.js.html">components/event-queue.js</a>, <a href="components_event-queue.js.html#line90">line 90</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The newly created EventQueue.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="EventQueue.html">EventQueue</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="consume"><span class="type-signature"></span>consume<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Starts consuming the queue.

As long as events are enqueued they will continue to be consumed.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_event-queue.js.html">components/event-queue.js</a>, <a href="components_event-queue.js.html#line61">line 61</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="push"><span class="type-signature"></span>push<span class="signature">(event, dataReady)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Push the event and its related data to the queue.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>event</code></td>
            

            <td class="type">
            
                
<span class="param-type">IMatrixEvent</span>


            
            </td>

            

            

            <td class="description last">The event to enqueue.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dataReady</code></td>
            

            <td class="type">
            
                
<span class="param-type">Promise.&lt;object></span>


            
            </td>

            

            

            <td class="description last">Promise containing data related to the event.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_event-queue.js.html">components/event-queue.js</a>, <a href="components_event-queue.js.html#line38">line 38</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AgeCounters.html">AgeCounters</a></li><li><a href="AppServiceBot.html">AppServiceBot</a></li><li><a href="Bridge.html">Bridge</a></li><li><a href="BridgeContext.html">BridgeContext</a></li><li><a href="BridgeInternalError.html">BridgeInternalError</a></li><li><a href="BridgeStore.html">BridgeStore</a></li><li><a href="Cli.html">Cli</a></li><li><a href="ClientFactory.html">ClientFactory</a></li><li><a href="ClientRequestCache.html">ClientRequestCache</a></li><li><a href="global.html#ConfigValidator">ConfigValidator</a></li><li><a href="EventBridgeStore.html">EventBridgeStore</a></li><li><a href="EventNotHandledError.html">EventNotHandledError</a></li><li><a href="EventQueue.html">EventQueue</a></li><li><a href="EventQueueNone.html">EventQueueNone</a></li><li><a href="EventQueuePerRoom.html">EventQueuePerRoom</a></li><li><a href="EventQueueSingle.html">EventQueueSingle</a></li><li><a href="EventTooOldError.html">EventTooOldError</a></li><li><a href="EventUnknownError.html">EventUnknownError</a></li><li><a href="ForeignNetworkError.html">ForeignNetworkError</a></li><li><a href="Intent.html">Intent</a></li><li><a href="MatrixRoom.html">MatrixRoom</a></li><li><a href="MatrixUser.html">MatrixUser</a></li><li><a href="MembershipCache.html">MembershipCache</a></li><li><a href="PrometheusMetrics.html">PrometheusMetrics</a></li><li><a href="RemoteRoom.html">RemoteRoom</a></li><li><a href="RemoteUser.html">RemoteUser</a></li><li><a href="Request.html">Request</a></li><li><a href="RequestFactory.html">RequestFactory</a></li><li><a href="RoomBridgeStore.html">RoomBridgeStore</a></li><li><a href="RoomLinkValidator.html">RoomLinkValidator</a></li><li><a href="RoomUpgradeHandler.html">RoomUpgradeHandler</a></li><li><a href="StateLookup.html">StateLookup</a></li><li><a href="StoredEvent.html">StoredEvent</a></li><li><a href="UserBridgeStore.html">UserBridgeStore</a></li></ul><h3>Global</h3><ul><li><a href="global.html#defaultMessage">defaultMessage</a></li><li><a href="global.html#wrap">wrap</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Thu Aug 22 2019 17:57:26 GMT+0100 (British Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>