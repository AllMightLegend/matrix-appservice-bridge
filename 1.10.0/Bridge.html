<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Bridge</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Bridge</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>Bridge<span class="signature">(opts)</span><span class="type-signature"></span></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    
    <h4 class="name" id="Bridge"><span class="type-signature"></span>new Bridge<span class="signature">(opts)</span><span class="type-signature"></span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Options to pass to the bridge
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>registration</code></td>
            

            <td class="type">
            
                
<span class="param-type">AppServiceRegistration</span>
|

<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Application service
registration object or path to the registration file.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>homeserverUrl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The base HS url</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>domain</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The domain part for user_ids and room aliases
e.g. "bar" in "@foo:bar".</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>networkName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">A human readable string that will be used when
the bridge signals errors to the client. Will not include in error events if ommited.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>controller</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The controller logic for the bridge.
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>onEvent</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bridge.html#~onEvent">Bridge~onEvent</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Function. Called when
an event has been received from the HS.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onUserQuery</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bridge.html#~onUserQuery">Bridge~onUserQuery</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Function. If supplied,
the bridge will invoke this function when queried via onUserQuery. If
not supplied, no users will be provisioned on user queries. Provisioned users
will automatically be stored in the associated <code>userStore</code>.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAliasQuery</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bridge.html#~onAliasQuery">Bridge~onAliasQuery</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Function. If supplied,
the bridge will invoke this function when queried via onAliasQuery. If
not supplied, no rooms will be provisioned on alias queries. Provisioned rooms
will automatically be stored in the associated <code>roomStore</code>.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onAliasQueried</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bridge.html#~onAliasQueried">Bridge~onAliasQueried</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Function.
If supplied, the bridge will invoke this function when a room has been created
via onAliasQuery.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onLog</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bridge.html#~onLog">Bridge~onLog</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Function. Invoked when
logging. Defaults to a function which logs to the console.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>thirdPartyLookup</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bridge.html#~thirdPartyLookup">Bridge~thirdPartyLookup</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Object. If
supplied, the bridge will respond to third-party entity lookups using the
contained helper functions.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onRoomUpgrade</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bridge.html#~onRoomUpgrade">Bridge~onRoomUpgrade</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Function. If
supplied, the bridge will invoke this function when it sees an upgrade event
for a room.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>roomStore</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="RoomBridgeStore.html">RoomBridgeStore</a></span>
|

<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The room store instance to
use, or the path to the room .db file to load. A database will be created if
this is not specified.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userStore</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="UserBridgeStore.html">UserBridgeStore</a></span>
|

<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The user store instance to
use, or the path to the user .db file to load. A database will be created if
this is not specified.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>eventStore</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="EventBridgeStore.html">EventBridgeStore</a></span>
|

<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The event store instance to
use, or the path to the event .db file to load. This will NOT be created if it
isn't specified.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>membershipCache</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="MembershipCache.html">MembershipCache</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The membership cache instance
to use, which can be manually created by a bridge for greater control over
caching. By default a membership cache will be created internally.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>suppressEcho</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">True to stop receiving onEvent callbacks
for events which were sent by a bridge user. Default: true.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>clientFactory</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ClientFactory.html">ClientFactory</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The client factory instance to
use. If not supplied, one will be created.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>logRequestOutcome</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">True to enable SUCCESS/FAILED log lines
to be sent to onLog. Default: true.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>intentOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options to supply to created Intent instances.
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bot</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options to supply to the bot intent.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>clients</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options to supply to the client intents.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>escapeUserIds</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Escape userIds for non-bot intents with
MatrixUser~escapeUserId
Default: true</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>queue</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options for the onEvent queue. When the bridge
receives an incoming transaction, it needs to asyncly query the data store for
contextual info before calling onEvent. A queue is used to keep the onEvent
calls consistent with the arrival order from the incoming transactions.
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The type of queue to use when feeding through
to <a href="Bridge.html#~onEvent">Bridge~onEvent</a>. One of: "none", single", "per_room". If "none",
events are fed through as soon as contextual info is obtained, which may result
in out of order events but stops HOL blocking. If "single", onEvent calls will
be in order but may be slower due to HOL blocking. If "per_room", a queue per
room ID is made which reduces the impact of HOL blocking to be scoped to a room.
Default: "single".</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>perRequest</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">True to only feed through the next
event after the request object in the previous call succeeds or fails. It is
<b>vital</b> that you consistently resolve/reject the request if this is 'true',
else you will not get any further events from this queue. To aid debugging this,
consider setting a delayed listener on the request factory. If false, the mere
invockation of onEvent is enough to trigger the next event in the queue.
You probably want to set this to 'true' if your <a href="Bridge.html#~onEvent">Bridge~onEvent</a> is
performing async operations where ordering matters (e.g. messages). Default: false.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>disableContext</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">True to disable Bridge~BridgeContext
parameters in <a href="Bridge.html#~onEvent">Bridge~onEvent</a>. Disabling the context makes the
bridge do fewer database lookups, but prevents there from being a
<code>context</code> parameter. Default: false.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>roomLinkValidation</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options to supply to the room link
validator. If not defined then all room links are accepted.
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ruleFile</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">A file containing rules
on which matrix rooms can be bridged.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rules</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">A object containing rules
on which matrix rooms can be bridged. This is used if ruleFile is undefined.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>triggerEndpoint</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Enable the endpoint
to trigger a reload of the rules file.
Default: false</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>roomUpgradeOpts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="RoomUpgradeHandler.html#~Options">RoomUpgradeHandler~Options</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Options to supply to
the room upgrade handler. If not defined then upgrades are NOT handled by the bridge.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line130">line 130</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="_customiseAppservice"><span class="type-signature"></span>_customiseAppservice<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Apply any customisations required on the appService object.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line347">line 347</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_getUserRegex"><span class="type-signature"></span>_getUserRegex<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Returns a regex matching all users of the bridge.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line895">line 895</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Super regex composed of all user regexes.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="_limited"><span class="type-signature"></span>_limited<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Restricts the promise according to the bridges `perRequest` setting.

`perRequest` enabled:
    Returns a promise similar to `promise`, with the addition of it only
    resolving after `request`.
`perRequest` disabled:
    Returns the promise unchanged.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line838">line 838</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="addAppServicePath"><span class="type-signature"></span>addAppServicePath<span class="signature">(opts)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Install a custom handler for an incoming HTTP API request. This allows
callers to add extra functionality, implement new APIs, etc...
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Named options
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>method</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The HTTP method name.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">Path to the endpoint.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>handler</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bridge.html#~appServicePathHandler">Bridge~appServicePathHandler</a></span>


            
            </td>

            

            

            <td class="description last">Function to handle requests
to this endpoint.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line561">line 561</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="canProvisionRoom"><span class="type-signature"></span>canProvisionRoom<span class="signature">(roomId, cache)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Determines whether a room should be provisoned based on
user provided rules and the room state. Will default to true
if no rules have been provided.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>roomId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The room to check.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cache</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">Should the validator check it's cache.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line631">line 631</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    resolves if can and rejects if it cannot.
                   A status code is returned on both.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getBot"><span class="type-signature"></span>getBot<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="AppServiceBot.html">AppServiceBot</a>}</span></h4>
    

    



<div class="description">
    Get the AS bot instance.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line618">line 618</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="AppServiceBot.html">AppServiceBot</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getClientFactory"><span class="type-signature"></span>getClientFactory<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="ClientFactory.html">ClientFactory</a>}</span></h4>
    

    



<div class="description">
    Retrieve the matrix client factory used when sending matrix requests.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line610">line 610</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="ClientFactory.html">ClientFactory</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getEventStore"><span class="type-signature"></span>getEventStore<span class="signature">()</span><span class="type-signature"> &rarr; (nullable) {<a href="EventBridgeStore.html">EventBridgeStore</a>}</span></h4>
    

    



<div class="description">
    Retrieve the connected event store instance, if one was configured.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line594">line 594</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The connected instance ready for querying.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="EventBridgeStore.html">EventBridgeStore</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getIntent"><span class="type-signature"></span>getIntent<span class="signature">(userId<span class="signature-attributes">nullable</span>, request<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="Intent.html">Intent</a>}</span></h4>
    

    



<div class="description">
    Retrieve an Intent instance for the specified user ID. If no ID is given, an
instance for the bot itself is returned.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">The user ID to get an Intent for.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Request.html">Request</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Optional. The request instance to tie the MatrixClient
instance to. Useful for logging contextual request IDs.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line650">line 650</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The intent instance
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Intent.html">Intent</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getIntentFromLocalpart"><span class="type-signature"></span>getIntentFromLocalpart<span class="signature">(localpart<span class="signature-attributes">nullable</span>, request<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="Intent.html">Intent</a>}</span></h4>
    

    



<div class="description">
    Retrieve an Intent instance for the specified user ID localpart. This <i>must
be the complete user localpart</i>.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>localpart</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">The user ID localpart to get an Intent for.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Request.html">Request</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Optional. The request instance to tie the MatrixClient
instance to. Useful for logging contextual request IDs.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line683">line 683</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The intent instance
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Intent.html">Intent</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getPrometheusMetrics"><span class="type-signature"></span>getPrometheusMetrics<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Returns a PrometheusMetrics instance stored on the bridge, creating it first
if required. The instance will be registered with the HTTP server so it can
serve the "/metrics" page in the usual way.
The instance will automatically register the Matrix SDK metrics by calling
{PrometheusMetrics~registerMatrixSdkMetrics}.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line928">line 928</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getRequestFactory"><span class="type-signature"></span>getRequestFactory<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="RequestFactory.html">RequestFactory</a>}</span></h4>
    

    



<div class="description">
    Retrieve the request factory used to create incoming requests.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line602">line 602</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="RequestFactory.html">RequestFactory</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getRoomStore"><span class="type-signature"></span>getRoomStore<span class="signature">()</span><span class="type-signature"> &rarr; (nullable) {<a href="RoomBridgeStore.html">RoomBridgeStore</a>}</span></h4>
    

    



<div class="description">
    Retrieve the connected room store instance.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line578">line 578</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The connected instance ready for querying.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="RoomBridgeStore.html">RoomBridgeStore</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getUserStore"><span class="type-signature"></span>getUserStore<span class="signature">()</span><span class="type-signature"> &rarr; (nullable) {<a href="UserBridgeStore.html">UserBridgeStore</a>}</span></h4>
    

    



<div class="description">
    Retrieve the connected user store instance.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line586">line 586</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The connected instance ready for querying.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="UserBridgeStore.html">UserBridgeStore</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="loadDatabases"><span class="type-signature"></span>loadDatabases<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Load the user and room databases. Access them via getUserStore() and getRoomStore().
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line217">line 217</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Resolved/rejected when the user/room databases have been loaded.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="provisionUser"><span class="type-signature"></span>provisionUser<span class="signature">(matrixUser, provisionedUser)</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Provision a user on the homeserver.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>matrixUser</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="MatrixUser.html">MatrixUser</a></span>


            
            </td>

            

            

            <td class="description last">The virtual user to be provisioned.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>provisionedUser</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bridge.html#~ProvisionedUser">Bridge~ProvisionedUser</a></span>


            
            </td>

            

            

            <td class="description last">Provisioning information.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line695">line 695</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Resolved when provisioned.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="registerBridgeGauges"><span class="type-signature"></span>registerBridgeGauges<span class="signature">(counterFunc)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    A convenient shortcut to calling registerBridgeGauges() on the
PrometheusMetrics instance directly. This version will supply the value of
the matrixGhosts field if the counter function did not return it, for
convenience.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>counterFunc</code></td>
            

            <td class="type">
            
                
<span class="param-type">PrometheusMetrics~BridgeGaugesCallback</span>


            
            </td>

            

            

            <td class="description last">A function that
when invoked returns the current counts of various items in the bridge.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line967">line 967</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>bridge.registerBridgeGauges(() => {
    return {
        matrixRoomConfigs: Object.keys(this.matrixRooms).length,
        remoteRoomConfigs: Object.keys(this.remoteRooms).length,

        remoteGhosts: Object.keys(this.remoteGhosts).length,

        ...
    }
})</code></pre>



        
            

    

    
    <h4 class="name" id="run"><span class="type-signature"></span>run<span class="signature">(port, config, appServiceInstance<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Run the bridge (start listening)
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>port</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The port to listen on.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Configuration options</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>appServiceInstance</code></td>
            

            <td class="type">
            
                
<span class="param-type">AppService</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The AppService instance to attach to.
If not provided, one will be created.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line253">line 253</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                

    

    
    <h4 class="name" id="~appServicePathHandler"><span class="type-signature"></span>appServicePathHandler<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Handler function for custom applied HTTP API request paths. This is invoked
as defined by expressjs.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Request.html">Request</a></span>


            
            </td>

            

            

            <td class="description last">An expressjs Request object the handler can use to
inspect the incoming request.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Response</span>


            
            </td>

            

            

            <td class="description last">An expressjs Response object the handler can use to
send the outgoing response.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1144">line 1144</a>
    </li></ul></dd>
    

    

    

    
</dl>




















            
                

    

    
    <h4 class="name" id="~getLocation"><span class="type-signature"></span>getLocation<span class="signature">(protocol, fields)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;<a href="Bridge.html#~thirdPartyLocationResult">Bridge~thirdPartyLocationResult</a>>>}</span></h4>
    

    



<div class="description">
    Returned by getProtocol third-party query metadata requests
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>protocol</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The name of the 3PE protocol</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fields</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The location query field data as specified by the
specific protocol.</td>
        </tr>

    
    </tbody>
</table>






    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>location_fields</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">Names of the fields required for
location lookups if location queries are supported.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>user_fields</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">Names of the fields required for user
lookups if user queries are supported.

 /**
Invoked on requests for 3PLs</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1179">line 1179</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise of a list of
3PL lookup results.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;<a href="Bridge.html#~thirdPartyLocationResult">Bridge~thirdPartyLocationResult</a>>></span>


    </dd>
</dl>

    





            
                

    

    
    <h4 class="name" id="~getProtocol"><span class="type-signature"></span>getProtocol<span class="signature">(protocol)</span><span class="type-signature"> &rarr; {Promise.&lt;Bridge~thirdPartyProtocolResult>}</span></h4>
    

    



<div class="description">
    Invoked on requests for 3PE query metadata
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>protocol</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The name of the 3PE protocol to query</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1171">line 1171</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise of metadata
about 3PE queries that can be made for this protocol.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Bridge~thirdPartyProtocolResult></span>


    </dd>
</dl>

    





            
                

    

    
    <h4 class="name" id="~getUser"><span class="type-signature"></span>getUser<span class="signature">(protocol, fields)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;<a href="Bridge.html#~thirdPartyUserResult">Bridge~thirdPartyUserResult</a>>>}</span></h4>
    

    



<div class="description">
    Invoked on requests for 3PUs
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>protocol</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The name of the 3PE protocol</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fields</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The user query field data as specified by the
specific protocol.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1217">line 1217</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise of a list of 3PU
lookup results.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;<a href="Bridge.html#~thirdPartyUserResult">Bridge~thirdPartyUserResult</a>>></span>


    </dd>
</dl>

    





            
                

    

    
    <h4 class="name" id="~onAliasQueried"><span class="type-signature"></span>onAliasQueried<span class="signature">(alias, roomId)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Invoked when a response is returned from onAliasQuery. Supports
both sync return values and async return values via promises.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>alias</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The alias queried.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>roomId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The parsed localpart of the alias.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1110">line 1110</a>
    </li></ul></dd>
    

    

    

    
</dl>




















            
                

    

    
    <h4 class="name" id="~onAliasQuery"><span class="type-signature"></span>onAliasQuery<span class="signature">(alias, aliasLocalpart)</span><span class="type-signature"> &rarr; {<a href="Bridge.html#~ProvisionedRoom">Bridge~ProvisionedRoom</a>|Promise.&lt;<a href="Bridge.html#~ProvisionedRoom">Bridge~ProvisionedRoom</a>, Error>}</span></h4>
    

    



<div class="description">
    Invoked when the bridge receives an alias query from the homeserver. Supports
both sync return values and async return values via promises.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>alias</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The alias queried.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>aliasLocalpart</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The parsed localpart of the alias.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1085">line 1085</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Reject the promise / return null to not provision the room. Resolve the
promise / return a <a href="Bridge.html#~ProvisionedRoom">Bridge~ProvisionedRoom</a> object to provision the room.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Bridge.html#~ProvisionedRoom">Bridge~ProvisionedRoom</a></span>
|

<span class="param-type">Promise.&lt;<a href="Bridge.html#~ProvisionedRoom">Bridge~ProvisionedRoom</a>, Error></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>new Bridge({
  controller: {
    onAliasQuery: function(alias, aliasLocalpart) {
      return {
        creationOpts: {
          room_alias_name: aliasLocalpart, // IMPORTANT: must be set to make the link
          name: aliasLocalpart,
          topic: "Auto-generated bridged room"
        }
      };
    }
  }
});</code></pre>



            
                

    

    
    <h4 class="name" id="~onEvent"><span class="type-signature"></span>onEvent<span class="signature">(request, context)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Invoked when the bridge receives an event from the homeserver.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>request</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Request.html">Request</a></span>


            
            </td>

            

            

            <td class="description last">The request to resolve or reject depending on the
outcome of this request. The 'data' attached to this Request is the raw event
JSON received (accessed via <code>request.getData()</code>)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type">Bridge~BridgeContext</span>


            
            </td>

            

            

            <td class="description last">Context for this event, including
instantiated client instances.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1127">line 1127</a>
    </li></ul></dd>
    

    

    

    
</dl>




















            
                

    

    
    <h4 class="name" id="~onLog"><span class="type-signature"></span>onLog<span class="signature">(line, isError)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Invoked when the bridge is attempting to log something.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>line</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The text to be logged.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>isError</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">True if this line should be treated as an error msg.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1137">line 1137</a>
    </li></ul></dd>
    

    

    

    
</dl>




















            
                

    

    
    <h4 class="name" id="~onRoomUpgrade"><span class="type-signature"></span>onRoomUpgrade<span class="signature">(oldRoomId, newRoomId, newVersion, context)</span><span class="type-signature"></span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>oldRoomId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The roomId of the old room.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>newRoomId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The roomId of the new room.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>newVersion</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The new room version.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type">Bridge~BridgeContext</span>


            
            </td>

            

            

            <td class="description last">Context for the upgrade event.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1119">line 1119</a>
    </li></ul></dd>
    

    

    

    
</dl>




















            
                

    

    
    <h4 class="name" id="~onUserQuery"><span class="type-signature"></span>onUserQuery<span class="signature">(matrixUser)</span><span class="type-signature"> &rarr; {<a href="Bridge.html#~ProvisionedUser">Bridge~ProvisionedUser</a>|Promise.&lt;<a href="Bridge.html#~ProvisionedUser">Bridge~ProvisionedUser</a>, Error>}</span></h4>
    

    



<div class="description">
    Invoked when the bridge receives a user query from the homeserver. Supports
both sync return values and async return values via promises.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>matrixUser</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="MatrixUser.html">MatrixUser</a></span>


            
            </td>

            

            

            <td class="description last">The matrix user queried. Use <code>getId()</code>
to get the user ID.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1061">line 1061</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Reject the promise / return null to not provision the user. Resolve the
promise / return a <a href="Bridge.html#~ProvisionedUser">Bridge~ProvisionedUser</a> object to provision the user.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="Bridge.html#~ProvisionedUser">Bridge~ProvisionedUser</a></span>
|

<span class="param-type">Promise.&lt;<a href="Bridge.html#~ProvisionedUser">Bridge~ProvisionedUser</a>, Error></span>


    </dd>
</dl>

    




    <h5>Example</h5>
    
    <pre class="prettyprint"><code>new Bridge({
  controller: {
    onUserQuery: function(matrixUser) {
      var remoteUser = new RemoteUser("some_remote_id");
      return {
        name: matrixUser.localpart + " (Bridged)",
        url: "http://someurl.com/pic.jpg",
        user: remoteUser
      };
    }
  }
});</code></pre>



            
                

    

    
    <h4 class="name" id="~parseLocation"><span class="type-signature"></span>parseLocation<span class="signature">(alias)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;<a href="Bridge.html#~thirdPartyLocationResult">Bridge~thirdPartyLocationResult</a>>>}</span></h4>
    

    



<div class="description">
    Invoked on requests to parse 3PL aliases
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>alias</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The room alias to parse.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1198">line 1198</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise of a list of
3PL lookup results.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;<a href="Bridge.html#~thirdPartyLocationResult">Bridge~thirdPartyLocationResult</a>>></span>


    </dd>
</dl>

    





            
                

    

    
    <h4 class="name" id="~parseUser"><span class="type-signature"></span>parseUser<span class="signature">(userid)</span><span class="type-signature"> &rarr; {Promise.&lt;Array.&lt;<a href="Bridge.html#~thirdPartyUserResult">Bridge~thirdPartyUserResult</a>>>}</span></h4>
    

    



<div class="description">
    Invoked on requests to parse 3PU user IDs
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userid</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The user ID to parse.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1227">line 1227</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Promise of a list of 3PU
lookup results.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;Array.&lt;<a href="Bridge.html#~thirdPartyUserResult">Bridge~thirdPartyUserResult</a>>></span>


    </dd>
</dl>

    





            
                
<h4 class="name" id="~ProvisionedRoom">ProvisionedRoom</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>creationOpts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            

            <td class="description last">Room creation options to use when creating the
room. Required.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>remote</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="RemoteRoom.html">RemoteRoom</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">The remote room to link to the provisioned room.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1053">line 1053</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="~ProvisionedUser">ProvisionedUser</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">The display name to set for the provisioned user.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">The avatar URL to set for the provisioned user.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>remote</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="RemoteUser.html">RemoteUser</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">The remote user to link to the provisioned user.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1045">line 1045</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="~thirdPartyLocationResult">thirdPartyLocationResult</h4>




<div class="description">
    Returned by getLocation and parseLocation third-party location lookups
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>alias</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The Matrix room alias to the portal room
representing this 3PL</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>protocol</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The name of the 3PE protocol</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fields</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">The normalised values of the location query field
data.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1206">line 1206</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="~thirdPartyLookup">thirdPartyLookup</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>protocols</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last">Optional list of recognised protocol names.
If present, lookups for unrecognised protocols will be automatically
rejected.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>getProtocol</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bridge.html#~getProtocol">Bridge~getProtocol</a></span>


            
            </td>

            

            

            <td class="description last">Function. Called for requests
for 3PE query metadata.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>getLocation</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bridge.html#~getLocation">Bridge~getLocation</a></span>


            
            </td>

            

            

            <td class="description last">Function. Called for requests
for 3PLs.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>parseLocation</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bridge.html#~parseLocation">Bridge~parseLocation</a></span>


            
            </td>

            

            

            <td class="description last">Function. Called for reverse
parse requests on 3PL aliases.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>getUser</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bridge.html#~getUser">Bridge~getUser</a></span>


            
            </td>

            

            

            <td class="description last">Function. Called for requests for 3PUs.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>parseUser</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Bridge.html#~parseUser">Bridge~parseUser</a></span>


            
            </td>

            

            

            <td class="description last">Function. Called for reverse parse
requests on 3PU user IDs.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1154">line 1154</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="~thirdPartyUserResult">thirdPartyUserResult</h4>




<div class="description">
    Returned by getUser and parseUser third-party user lookups
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userid</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The Matrix user ID for the ghost representing
this 3PU</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>protocol</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The name of the 3PE protocol</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>fields</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">The normalised values of the user query field
data.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bridge.js.html">bridge.js</a>, <a href="bridge.js.html#line1235">line 1235</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AgeCounters.html">AgeCounters</a></li><li><a href="AppServiceBot.html">AppServiceBot</a></li><li><a href="Bridge.html">Bridge</a></li><li><a href="BridgeContext.html">BridgeContext</a></li><li><a href="BridgeInternalError.html">BridgeInternalError</a></li><li><a href="BridgeStore.html">BridgeStore</a></li><li><a href="Cli.html">Cli</a></li><li><a href="ClientFactory.html">ClientFactory</a></li><li><a href="ClientRequestCache.html">ClientRequestCache</a></li><li><a href="global.html#ConfigValidator">ConfigValidator</a></li><li><a href="EventBridgeStore.html">EventBridgeStore</a></li><li><a href="EventNotHandledError.html">EventNotHandledError</a></li><li><a href="EventQueue.html">EventQueue</a></li><li><a href="EventQueueNone.html">EventQueueNone</a></li><li><a href="EventQueuePerRoom.html">EventQueuePerRoom</a></li><li><a href="EventQueueSingle.html">EventQueueSingle</a></li><li><a href="EventTooOldError.html">EventTooOldError</a></li><li><a href="EventUnknownError.html">EventUnknownError</a></li><li><a href="ForeignNetworkError.html">ForeignNetworkError</a></li><li><a href="Intent.html">Intent</a></li><li><a href="MatrixRoom.html">MatrixRoom</a></li><li><a href="MatrixUser.html">MatrixUser</a></li><li><a href="MembershipCache.html">MembershipCache</a></li><li><a href="PrometheusMetrics.html">PrometheusMetrics</a></li><li><a href="RemoteRoom.html">RemoteRoom</a></li><li><a href="RemoteUser.html">RemoteUser</a></li><li><a href="Request.html">Request</a></li><li><a href="RequestFactory.html">RequestFactory</a></li><li><a href="RoomBridgeStore.html">RoomBridgeStore</a></li><li><a href="RoomLinkValidator.html">RoomLinkValidator</a></li><li><a href="RoomUpgradeHandler.html">RoomUpgradeHandler</a></li><li><a href="StateLookup.html">StateLookup</a></li><li><a href="StoredEvent.html">StoredEvent</a></li><li><a href="UserBridgeStore.html">UserBridgeStore</a></li></ul><h3>Global</h3><ul><li><a href="global.html#defaultMessage">defaultMessage</a></li><li><a href="global.html#wrap">wrap</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Thu Aug 22 2019 17:57:26 GMT+0100 (British Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>