<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3>matrix-appservice-bridge 0.1.0</h3>










    




    <section>
        <article><h1>Matrix Application Service Bridging Infrastructure</h1><p>This library sits on top of the
<a href="https://github.com/matrix-org/matrix-appservice-node">core application service library</a>
and provides an API for setting up bridges quickly. Check out the
<a href="HOWTO.md">HOW-TO</a> for a step-by-step tutorial on setting up a new bridge.</p>
<h1>Architecture</h1><pre class="prettyprint source"><code> __________________________
|                          |
|   Your bridge e.g. IRC   |
|__________________________|
 __|___________________|___
|                          |
| matrix-appservice-bridge |
|__________________________|
 __|___________________|___
|                          |
|    matrix-appservice     |
|__________________________|</code></pre><p>The bridge relies on <code>matrix-appservice</code> and <code>matrix-js-sdk</code> for their
AS API and CS API implementations respectively. The bridge manages state for
virtual users and provides many useful helper functions bridges may desire.</p>
<h2>Components</h2><p>The bridge is formed around &quot;components&quot;. You can pick and choose which
components you use, though some components depend upon other components.
All components operate on data models defined in the bridge. You can directly
construct components: the bridge exposes the class constructor.</p>
<h3><code>BridgeStore</code></h3><p>Provides basic document store (key-value) CRUD operations.</p>
<h3><code>UserBridgeStore</code></h3><p>Provides storage for matrix and jungle users. Provides CRUD operations and
mapping between different types of users.</p>
<h3><code>RoomBridgeStore</code></h3><p>Provides storage for matrix and jungle rooms. Provides CRUD operations and
mapping between different types of rooms.</p>
<h3><code>ClientFactory</code> [TODO]</h3><p>Provides a method to obtain a JS SDK <code>MatrixClient</code> in the context of a
particular <code>user_id</code>. This is used to send messages as other users.</p>
<h3><code>Request</code> / <code>RequestFactory</code></h3><p>An abstraction provided to identify a single request through the bridge.
Can be used for request-context logging (each request has a unique ID)
and metrics (each request can succeed or fail and has timers for how long
they take to go through the bridge).</p>
<h3><code>ConfigValidator</code> [TODO]</h3><p>Provides a way to validate a YAML file when provided with a schema file.
Useful for setting your bridge-specific configuration information.</p>
<h3><code>AppServiceBot</code> [TODO]</h3><p>A wrapper around the JS SDK <code>MatrixClient</code> designed for use by the application
service <em>itself</em>. Contains helper methods to get all rooms the AS is in, how
many virtual / real users are in each, etc.</p>
<h3><code>Bridge</code> [TODO]</h3><p>The component which orchestrates other components: a &quot;glue&quot; component. Provides
a way to start the bridge. This is the component most examples use. Has
dependencies on <code>UserBridgeStore</code>, <code>RoomBridgeStore</code>, <code>AppServiceBot</code>,
<code>Request</code> and <code>ClientFactory</code>.</p>
<h2>Data Models</h2><ul>
<li><code>MatrixRoom</code> - A representation of a matrix room.</li>
<li><code>JungleRoom</code> - A representation of a third-party room.</li>
<li><code>MatrixUser</code> - A representation of a matrix user.</li>
<li><code>JungleUser</code> - A representation of a third-party user.</li>
</ul>
<h1>API</h1><p>A hosted reference can be found on
<a href="http://matrix-org.github.io/matrix-appservice-bridge/index.html">GitHub Pages</a>.
Alternatively, build the docs using <code>npm run gendoc</code>. Each component's class
constructor is exposed on <code>require(&quot;matrix-appservice-bridge&quot;)</code> so check each
class for more information on how to use each component.</p>
<h2>A word on terminology</h2><p>This library can be used to bridge with many different networks. This makes it
hard to identify the &quot;outside network&quot; via a single consistent name for types
and function names. This library refers to the &quot;outside network&quot; as the
<code>Jungle</code>: after all, it <em>is</em> a jungle out there. This name makes it easier to
intuit what <code>getJungleId</code> means, versus the alternative <code>getBridgedUserId</code> which
could be confused with Matrix's <code>user_id</code>. This also makes it a lot easier to
<code>grep</code>!</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="BridgeStore.html">BridgeStore</a></li><li><a href="JungleRoom.html">JungleRoom</a></li><li><a href="JungleUser.html">JungleUser</a></li><li><a href="MatrixRoom.html">MatrixRoom</a></li><li><a href="MatrixUser.html">MatrixUser</a></li><li><a href="Request.html">Request</a></li><li><a href="RequestFactory.html">RequestFactory</a></li><li><a href="RoomBridgeStore.html">RoomBridgeStore</a></li><li><a href="UserBridgeStore.html">UserBridgeStore</a></li></ul><h3>Global</h3><ul><li><a href="global.html#get">get</a></li><li><a href="global.html#getRoomBridgeStore">getRoomBridgeStore</a></li><li><a href="global.html#getUserBridgeStore">getUserBridgeStore</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a> on Tue Aug 25 2015 13:57:12 GMT+0100 (BST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>